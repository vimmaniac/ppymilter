#labels Featured
= Pure Python Milter Wiki Page =

PpyMilter is a milter protocol implementation (for sendmail, postfix, etc) that is written entirely in python.  It does not depend on libmilter.a but rather understands the milter protocol and talks directly to your MTA (over a socket).

= No BCC Example =
{{{

import asyncore
import ppymilterserver
import ppymilterbase

class NoBccMilter(ppymilterbase.PpyMilter):
  def __init__(self):
    ppymilterbase.PpyMilter(self)
    self.CanAddHeaders()
    self.__mutations = []

  def OnRcptTo(self, cmd, rcpt_to, esmtp_info):
    self.__mutations.append(self.AddHeader('To', rcpt_to))
    return self.Continue()

  def OnEndBody(self, cmd):
    tmp = self.__mutations
    self.__mutations = []
    return self.ReturnOnEndBodyActions(tmp)

  def OnResetState(self):
    self.__mutations = []

if __name__ == '__main__':
  asyncppymilterserver.AsyncPpyMilterServer(port, NoBccMilter)
  asyncore.loop()

}}}


* PpyMilter API link

= FAQ =